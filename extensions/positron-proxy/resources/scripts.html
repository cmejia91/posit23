<!DOCTYPE html>
<html>
<!-- This file provides a sane place to develop scripts for use in the PositronProxy extension. -->
<head>
	<!-- The help header script. -->
	<script id="help-header-script">
		// When the document is completely loaded, initialize things.
		document.addEventListener("readystatechange", event => {
			if (document.readyState === "complete") {
				hijackLinks();
			}
		});

		// Hijack all the links in the document. When a link is clicked, post a message to have
		// the link opened.
		const hijackLinks = () => {
			// Hijack all the links on the page.
			var links = document.links;
			for (let i = 0; i < links.length; i++) {
				links[i].onclick = (e) => {
					window.parent.postMessage({
						command: "open-url",
						href: links[i].href
					}, "*");
					return false;
				};
			}
		};
	</script>
</head>
<body>
</body>
</html>
